# Description: A version control system (CVS replacement)
# URL: http://subversion.apache.org
# Maintainer: Tsaop, leeroy at cock dot li
# Depends on: lz4 serf utf8proc

name=subversion
version=1.12.0
release=1
source=(https://www.apache.org/dist/$name/$name-$version.tar.bz2
	apr-1.7.patch)

build() {
    cd $name-$version

    patch -Np1 -i $SRC/apr-1.7.patch

    ./autogen.sh
    ./configure --prefix=/usr \
                --with-apr=/usr \
                --with-apr-util=/usr \
                --without-swig \
                --without-apxs \
                --disable-mod-activation \
                --disable-nls

    make
    make -j1 DESTDIR=$PKG install

    # info pages seem to get generated when makeinfo is available
    rm -rf $PKG/usr/info
}
