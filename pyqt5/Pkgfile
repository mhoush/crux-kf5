# Description: Python3 bindings for Qt5
# URL: https://www.riverbankcomputing.com/software/pyqt
# Maintainer: Tsaop, leeroy at cock dot li
# Depends on: qtwebengine qtwebkit sip

name=pyqt5
_realname=PyQt5
version=5.10.1
release=2
source=(https://sourceforge.net/projects/pyqt/files/$_realname/${_realname/5/}-$version/${_realname}_gpl-$version.tar.gz
	pyqt-qt5.11.patch
	pyqt-support-new-qt.patch)

build() {
	cd ${_realname}_gpl-$version

	# enable QT 5.11 support
	patch -Np1 -i $SRC/pyqt-qt5.11.patch
	patch -Np1 -i $SRC/pyqt-support-new-qt.patch

	python3 configure.py --confirm-license \
		--no-sip-files \
		-q /usr/bin/qmake-qt5

	make
	make INSTALL_ROOT=$PKG install
}
